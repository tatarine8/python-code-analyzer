<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä Python-–∫–æ–¥—É</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <h1 class="text-center mb-4">üîç –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä —è–∫–æ—Å—Ç—ñ Python-–∫–æ–¥—É / –ø—Ä–æ—î–∫—Ç—ñ–≤</h1>

  <!-- –§–æ—Ä–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
  <form method="post" action="/analyze" enctype="multipart/form-data"
        class="mb-4 border rounded p-4 bg-white shadow" id="uploadForm">

    <!-- –í–∏–±—ñ—Ä —Ç–∏–ø—É –≤—Ö—ñ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É: –æ–∫—Ä–µ–º–∏–π .py –∞–±–æ –∞—Ä—Ö—ñ–≤ –ø—Ä–æ—î–∫—Ç—É .zip -->
    <div class="mb-3">
      <label class="form-label">–©–æ –∞–Ω–∞–ª—ñ–∑—É—î–º–æ?</label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="mode" id="mode_file" value="file" checked>
        <label class="form-check-label" for="mode_file">–û–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª (.py)</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="mode" id="mode_project" value="project">
        <label class="form-check-label" for="mode_project">–ü—Ä–æ—î–∫—Ç (.zip)</label>
      </div>
    </div>

    <!-- –ü–æ–ª–µ –≤–∏–±–æ—Ä—É —Ñ–∞–π–ª—É -->
    <div class="mb-3">
      <label for="code_file" class="form-label">–û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª:</label>
      <input type="file" class="form-control" id="code_file" name="code_file" required>
    </div>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –Ω–∞—Ä–∞–∑—ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π) -->
    <!--
    <div class="progress mt-3" style="height: 6px; display: none;">
      <div id="realProgressBar" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%;"></div>
    </div>
    -->

    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫—É –∞–Ω–∞–ª—ñ–∑—É -->
    <button type="submit" class="btn btn-primary mt-3">–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏</button>
  </form>
</div>

<!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–º—ñ–Ω–∏ —Ñ–æ—Ä–º–∞—Ç—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è MIME) -->
<script>
function toggleInputType() {
  const type = document.querySelector('input[name="mode"]:checked').value;
  const fileInput = document.getElementById('code_file');

  if (type === 'file') {
    fileInput.accept = '.py';
  } else {
    fileInput.accept = '.zip';
  }
}

// –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById('mode_file').addEventListener('change', toggleInputType);
  document.getElementById('mode_project').addEventListener('change', toggleInputType);
  toggleInputType(); // –ø–µ—Ä–≤–∏–Ω–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
});
</script>
</body>
</html>
